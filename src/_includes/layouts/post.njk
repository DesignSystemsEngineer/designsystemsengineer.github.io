---
layout: layouts/base.njk
---
<article class="content-width prose">
  {% if draft %}
  <div class="draft-banner">Draft â€” not yet published</div>
  {% endif %}
  {% set tocContent = content | toc %}
  <header class="post-header">
    <h1 class="page-title">{{ title }}</h1>
    {% if description %}
    <p class="post-summary">{{ description }}</p>
    {% endif %}
    <p class="byline">
      {{ date | formatDate('MMMM d, yyyy') }}
      <button class="sidenote-toggle" aria-label="Toggle sidenotes" onclick="var a=this.closest('.prose');a.classList.toggle('notes-hidden');this.textContent=a.classList.contains('notes-hidden')?'Show notes':'Hide notes'">Hide notes</button>
    </p>
  </header>
  {% if tocContent %}
  <details class="toc">
    <summary class="toc__toggle">Table of Contents</summary>
    {{ tocContent | safe }}
  </details>
  {% endif %}
  {% if assumedAudience %}
  <aside class="assumed-audience" aria-label="Assumed audience">
    <p class="assumed-audience__label">Assumed Audience</p>
    <p class="assumed-audience__text">{{ assumedAudience }}</p>
  </aside>
  {% endif %}
  {{ content | safe }}
  {% if tags and tags | length %}
  <p class="tags"><strong>Tags:</strong> {% for tag in tags %}<a href="/writing/tag/{{ tag | slugifyTag }}/">{{ tag }}</a>{% if not loop.last %}, {% endif %}{% endfor %}</p>
  {% endif %}
</article>
